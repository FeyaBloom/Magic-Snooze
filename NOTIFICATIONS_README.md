# üîî –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π Magic Snooze

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã `expo-notifications` –∏ `expo-device`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è Android (POST_NOTIFICATIONS) –∏ iOS
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è Android (tasks, routines, prompts)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ (–º—è–≥–∫–∏–π –ø–æ–¥—Ö–æ–¥)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é

### –•—É–∫–∏
- ‚úÖ **useNotifications** - –±–∞–∑–æ–≤—ã–π —Ö—É–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π
- ‚úÖ **useTaskNotifications** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –∑–∞–¥–∞—á —Å –¥–∞—Ç–∞–º–∏

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–¥–∞—á–∞—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 3 –¥–Ω—è –∏ –∑–∞ 1 –¥–µ–Ω—å –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –¥–µ–Ω—å –¥–µ–¥–ª–∞–π–Ω–∞ (9:00)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ–Ω–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ–Ω–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏
- ‚úÖ –ü–µ—Ä–µ–≤–æ–¥—ã –Ω–∞ 4 —è–∑—ã–∫–∞ (en, es, ru, ca)

### ADHD-friendly –ø–æ–¥—Ö–æ–¥
- ‚úÖ –ë–µ–∑ –∑–≤—É–∫–æ–≤ (–º–µ–Ω—å—à–µ —Å—Ç—Ä–µ—Å—Å–∞)
- ‚úÖ –ë–µ–∑ –±–µ–π–¥–∂–µ–π (–º–µ–Ω—å—à–µ —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏)
- ‚úÖ –ú—è–≥–∫–∏–µ –≤–∏–±—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è–µ–º –≤–∫–ª—é—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üöÄ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 1. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

–¢–∞–∫ –∫–∞–∫ –¥–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –Ω–∞—Ç–∏–≤–Ω—ã–π –ø–ª–∞–≥–∏–Ω, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å:

```bash
# –î–ª—è Android
npx expo prebuild --clean
npx expo run:android

# –î–ª—è iOS
npx expo prebuild --clean
npx expo run:ios
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

1. **–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ** (—ç–º—É–ª—è—Ç–æ—Ä—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Tasks**
3. –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É —Å –¥–∞—Ç–æ–π –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –∏–ª–∏ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π
4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è:
   - –ó–∞ 3 –¥–Ω—è –¥–æ: –≤ 10:00
   - –ó–∞ 1 –¥–µ–Ω—å –¥–æ: –≤ 18:00
   - –í –¥–µ–Ω—å –¥–µ–¥–ª–∞–π–Ω–∞: –≤ 9:00

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–º–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

- **–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞—á—É** ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–º–µ–Ω—è—é—Ç—Å—è
- **–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É** ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–º–µ–Ω—è—é—Ç—Å—è
- **–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—É** ‚Üí —Å—Ç–∞—Ä—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–º–µ–Ω—è—é—Ç—Å—è, –Ω–æ–≤—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
- –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∏–∑ settings (–≤ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ)

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
utils/
  notificationPermissions.ts   ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
  notificationScheduler.ts     ‚Üí –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–º–µ–Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

hooks/
  useNotifications.ts          ‚Üí –ë–∞–∑–æ–≤—ã–π —Ö—É–∫ —Å–∏—Å—Ç–µ–º—ã
  useTaskNotifications.ts      ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–¥–∞—á–∞—Ö

locales/
  en.json, es.json, ru.json, ca.json  ‚Üí –ü–µ—Ä–µ–≤–æ–¥—ã (notifications.*)
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### app.json
```json
{
  "expo": {
    "plugins": [
      ["expo-notifications", {
        "icon": "./assets/icon.png",
        "color": "#F59E0B",
        "sounds": [],
        "mode": "default"
      }]
    ],
    "android": {
      "permissions": ["POST_NOTIFICATIONS"]
    },
    "ios": {
      "infoPlist": {
        "UIBackgroundModes": ["remote-notification"]
      }
    }
  }
}
```

### –ö–∞–Ω–∞–ª—ã Android
- **tasks**: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∑–∞–¥–∞—á–∞—Ö (DEFAULT importance)
- **prompts**: –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã (LOW importance)
- **routines**: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ —Ä—É—Ç–∏–Ω–∞—Ö (DEFAULT importance)

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω—É–∂–Ω–æ:

1. **–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ Settings**
   - Toggle –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - Toggle –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–¥–∞—á–∞—Ö
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–Ω–µ–π –∑–∞—Ä–∞–Ω–µ–µ (3, 1 –∏–ª–∏ –∫–∞—Å—Ç–æ–º)
   - –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

2. **Surprise Prompts** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã `today.surprize1-8`
   - –°–ª—É—á–∞–π–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è 1-2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å
   - –•—É–∫ `useSurpriseNotifications.ts`

3. **Routine Reminders** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ —É—Ç—Ä–µ–Ω–Ω–µ–π —Ä—É—Ç–∏–Ω–µ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –≤—Ä–µ–º—è)
   - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –≤–µ—á–µ—Ä–Ω–µ–π —Ä—É—Ç–∏–Ω–µ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –≤—Ä–µ–º—è)
   - –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ä—É—Ç–∏–Ω–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞

4. **Streak Reminders** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ 23:00 –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞cha

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### AsyncStorage keys
```
notificationsEnabled          ‚Üí boolean (–≤–∫–ª—é—á–µ–Ω—ã –ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
taskNotificationsEnabled      ‚Üí boolean (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–¥–∞—á–∞—Ö)
taskNotificationDays          ‚Üí number[] (–¥–Ω–∏ –∑–∞—Ä–∞–Ω–µ–µ, default [3, 1])
scheduledNotifications        ‚Üí ScheduledNotification[] (–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ)
```

### –õ–æ–≥–∏–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á

```typescript
// –î–ª—è –∑–∞–¥–∞—á–∏ —Å dueDate = "2026-02-15"

// 1. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –¥–µ–Ω—å –¥–µ–¥–ª–∞–π–Ω–∞
//    –î–∞—Ç–∞: 2026-02-15 09:00
//    –¢–µ–∫—Å—Ç: "Task due today: {taskText} üå∏"

// 2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∑–∞ 1 –¥–µ–Ω—å (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
//    –î–∞—Ç–∞: 2026-02-14 18:00
//    –¢–µ–∫—Å—Ç: "Task due tomorrow: {taskText} ‚ú®"

// 3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∑–∞ 3 –¥–Ω—è (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
//    –î–∞—Ç–∞: 2026-02-12 10:00
//    –¢–µ–∫—Å—Ç: "Upcoming task: {taskText} - due in 3 days (Feb 15, 2026)"
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –±—É–¥—É—â–∏—Ö –¥–∞—Ç
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —è–∑—ã–∫–∞ (–ø–µ—Ä–µ–≤–æ–¥—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ)
- ‚úÖ Respect theme: —Ü–≤–µ—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏–∑ –ø–∞–ª–∏—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–í–µ–± –∏ —ç–º—É–ª—è—Ç–æ—Ä—ã**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
2. **Android 13+**: –¢—Ä–µ–±—É–µ—Ç—Å—è —è–≤–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **iOS**: –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ
4. **Background execution**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –¥–∞–∂–µ –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ

## üí° UX –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –Ω–∞–≤—è–∑—ã–≤–∞–µ–º** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º —Ä–µ—à–∞–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
2. **–ú—è–≥–∫–∏–π —Ç–æ–Ω** - —Ç–µ–∫—Å—Ç—ã –±–µ–∑ –¥–∞–≤–ª–µ–Ω–∏—è –∏ —á—É–≤—Å—Ç–≤–∞ –≤–∏–Ω—ã
3. **–ë–µ–∑ —Å—Ç—Ä–µ—Å—Å–∞** - –±–µ–∑ –∑–≤—É–∫–æ–≤ –∏ –±–µ–π–¥–∂–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
4. **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** - –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ª—é–±–æ–π —Ç–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
5. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –∏ –∫–æ–≥–¥–∞

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ TypeScript —É—Ä–æ–≤–Ω–µ  
**–¢—Ä–µ–±—É–µ—Ç—Å—è**: –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å `npx expo prebuild --clean` –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
